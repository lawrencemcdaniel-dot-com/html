/*! woocommerce-name-your-price 2.9.0 */

jQuery(document).ready(function(h){function g(o,e,i){void 0===e&&(e=""),void 0===i&&(i=!1);var n=i?woocommerce_nyp_params.currency_format:"%v";return accounting.formatMoney(o,{symbol:e,decimal:woocommerce_nyp_params.currency_format_decimal_sep,thousand:woocommerce_nyp_params.currency_format_thousand_sep,precision:woocommerce_nyp_params.currency_format_num_decimals,format:n}).trim()}function w(o){return Math.abs(parseFloat(accounting.unformat(o,woocommerce_nyp_params.currency_format_decimal_sep)))}h.fn.woocommerce_nyp_update=function(){if(h(this).on("woocommerce-nyp-update",function(){var o=h(this),e=o.find(".nyp"),i=o.find(".nyp-input"),n=o.find(":submit"),r=o.find(".ajax_add_to_cart"),a=i.val(),t=o.find(".woocommerce-nyp-message");t.length||h('<div class="woocommerce-nyp-message woocommerce-error"></div>').hide().prependTo(e);var m=e.data("hide-minimum")?e.data("hide-minimum-error"):e.data("minimum-error"),c="%%MINIMUM%%",d=!1,p="",s=w(a),u=parseFloat(e.data("min-price")),_=parseFloat(e.data("max-price")),l=parseFloat(e.data("annual-minimum")),f=o.find(".nyp-period"),y=f.val();0<l?(form_annulualized_price=s*woocommerce_nyp_params.annual_price_factors[y],form_annulualized_price<l&&(p=g(d=l/woocommerce_nyp_params.annual_price_factors[y],woocommerce_nyp_params.currency_format_symbol,!0)+" / "+f.find('option[value="'+y+'"]').text())):s<u?p=g(d=u,woocommerce_nyp_params.currency_format_symbol,!0):_<s&&(d=_,m=e.data("maximum-error"),c="%%MAXIMUM%%",p=g(_,woocommerce_nyp_params.currency_format_symbol,!0)),""!=h.trim(a)&&i.val(g(s)),r.length&&r.data(i.attr("name"),g(s)),d?(n.prop("disabled",!0),m=m.replace(c,p),t.html(m).slideDown(function(){i.focus()})):(n.prop("disabled",!1),t.slideUp(),h(this).find("#product-addons-total").data("price",s),o.trigger("woocommerce-product-addons-update"),e.data("price",s),o.trigger("woocommerce-nyp-updated-item"),h("body").trigger("woocommerce-nyp-updated"))}),h(this).on("change",".nyp-input, .nyp-period",function(){h(this).closest(".cart, .nyp-product").trigger("woocommerce-nyp-update")}),h(this).find(".nyp-input").trigger("change"),h(this).hasClass("variations_form")){var t=h(this),m=h(this).find("button.single_add_to_cart_button"),c=h(this).find(".nyp"),d=c.find(".nyp-input"),p=c.find(".minimum-price"),s=c.find(".subscription-details"),u=m.html();c.hide(),p.hide(),t.on("found_variation",function(o,e){if(null!=typeof e.is_nyp&&1==e.is_nyp){m.html(e.add_to_cart_text);var i=void 0!==e.display_price?e.display_price:"",n=void 0!==e.minimum_price?e.minimum_price:"",r=void 0!==e.maximum_price?e.maximum_price:"";""!=h.trim(i)?d.val(g(i)):d.val(""),s.length&&e.subscription_terms&&s.html(e.subscription_terms),e.minimum_price_html?p.html(e.minimum_price_html).show():p.hide(),c.data("min-price",n).slideDown(),c.data("max-price",r),c.data("hide-minimum",e.hide_minimum),t.find(".woocommerce-nyp-message").slideUp();var a=w(d.val());h(this).find("#product-addons-total").data("price",a),h(this).trigger("woocommerce-product-addons-update")}else m.html(u),c.slideUp()}).on("reset_image",function(o){m.html(u),c.slideUp()}).on("click",".reset_variations",function(o){m.html(u),c.slideUp()}),h(this).find(".variations select").trigger("change")}},h("body").on("quick-view-displayed",function(){h("body").find(".cart:not(.cart_group)").each(function(){h(this).woocommerce_nyp_update()})}),h("body .component").on("wc-composite-component-loaded",function(){h(this).find(".cart:not(.cart_group)").each(function(){h(this).woocommerce_nyp_update()})}),h("body").find(".cart:not(.cart_group, .grouped_form)").each(function(){h(this).woocommerce_nyp_update()}),h("body .grouped_form").find(".nyp-product").each(function(){h(this).woocommerce_nyp_update()})});